"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[614],{579:function(e,n,i){i.d(n,{Z:function(){return m}});var r=i(413),t=i(439),l=i(791),c=i(909),s=i(689),o=i(164),d=i(184),a=document.querySelector("#modal-root"),u=function(e){var n=e.closeModal,i=e.children;(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,o.createPortal)((0,d.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&n()},children:(0,d.jsx)("div",{children:i})}),a)},h=i(185),x=function(e){var n=e.el,i=e.city,r=e.country,t=e.addComma,l=e.closeModal,c=n.rentalConditions.split("\n");return(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{type:"button",onClick:l,"aria-label":"Close modal window",children:(0,d.jsx)(h.C7Q,{})}),(0,d.jsx)("img",{src:n.img,alt:"".concat(n.make," ").concat(n.model,", ").concat(n.year)}),(0,d.jsxs)("h3",{children:[n.make," ",(0,d.jsx)("span",{children:n.model}),", ",n.year]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:i})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:r})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["id: ",n.id]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Year: ",n.year]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Type: ",n.type]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Fuel Consumption: ",n.fuelConsumption]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Engine Size: ",n.engineSize]})})]}),(0,d.jsx)("p",{children:n.description}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Accessories and functionalities:"}),(0,d.jsxs)("ul",{children:[n.functionalities.map((function(e,n){return(0,d.jsx)("li",{children:e},n)})),n.accessories.map((function(e,n){return(0,d.jsx)("li",{children:e},n)}))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:"Rental Conditions: "}),(0,d.jsxs)("ul",{children:[c.map((function(e,n){var i=function(e){var n=e.split("\n")[0].slice(-2),i=parseInt(n);return!Number.isNaN(i)&&i}(e);return(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:[e.replace("".concat(i),""),i&&(0,d.jsx)("span",{children:i})]})},n)})),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Milage: ",(0,d.jsx)("span",{children:t(n.mileage)})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:["Price: ",(0,d.jsx)("span",{children:n.rentalPrice})]})})]})]})]}),(0,d.jsx)("button",{href:"tel:+380730000000",rel:"noopener",children:"Rental car"})]})},j=function(e){var n=e.car,i=(0,l.useState)(!1),o=(0,t.Z)(i,2),a=o[0],j=o[1],m=(0,c.X_)().data,p=void 0===m?[]:m,f=(0,c.x4)(),v=(0,t.Z)(f,1)[0],g=(0,c.bu)(),y=(0,t.Z)(g,1)[0],b=(0,s.TH)(),C=p.find((function(e){return e._id===n.id})),k="/favorites"===b.pathname;(0,l.useEffect)((function(){return document.body.style.overflow=a?"hidden":"auto",function(){document.body.style.overflow="auto"}}),[a]);var w=function(){j(!1)},S=function(e){return e.toLocaleString("en-US")},Z=n.address.split(","),M=Z[1],E=Z[2],F=C||k;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("li",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:n.img,alt:"".concat(n.make," ").concat(n.model)})}),(0,d.jsx)("button",{type:"button",onClick:function(){return e=n,void(k?y(e.id):C?y(C.id):C||v((0,r.Z)((0,r.Z)({},e),{},{_id:e.id})));var e},style:{fill:F&&"#3470ff"},children:(0,d.jsx)(h.ytW,{})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{children:[n.make," ",(0,d.jsx)("span",{children:n.model}),", ",n.year]}),(0,d.jsx)("p",{children:n.rentalPrice})]}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:M})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:E})}),(0,d.jsx)("li",{children:(0,d.jsxs)("p",{children:[" ",n.rentalCompany]})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.type})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.make})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:S(n.mileage)})}),(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:n.accessories[2]})})]})]}),(0,d.jsx)("button",{type:"button",onClick:function(){j(!0)},children:"Learn more"})]}),a&&(0,d.jsx)(u,{closeModal:w,children:(0,d.jsx)(x,{el:n,city:M,country:E,closeModal:w,addComma:S})})]})},m=function(e){var n=e.data;return(0,d.jsx)("ul",{children:n&&n.map((function(e){return(0,d.jsx)(j,{car:e},e.id)}))})}},614:function(e,n,i){i.r(n),i.d(n,{default:function(){return x}});var r=i(433),t=i(439),l=i(791),c=i(909),s=i(184),o=[10,20,30,40,50,60,70,80,90,100,200,300,400,500,600],d=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land Rover"],a=function(e){var n=e.onSubmit,i=(0,l.useState)(),r=(0,t.Z)(i,2),c=r[0],a=r[1];return(0,s.jsxs)("form",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"car-select",children:"Car brand"}),(0,s.jsxs)("select",{name:"cars",id:"car-select",onChange:a,children:[(0,s.jsx)("option",{value:"without",children:"All cars"}),d.map((function(e,n){return(0,s.jsx)("option",{value:e,children:e},n)}))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"price-select",children:"Price/ 1 hour"}),(0,s.jsxs)("select",{name:"price",id:"price-select",children:[(0,s.jsx)("option",{value:"without",children:"To $"}),o.map((function(e,n){return(0,s.jsx)("option",{value:e,children:e},n)}))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:"Car mileage / km"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",name:"mileageFrom",id:"mileageFrom"}),(0,s.jsx)("label",{htmlFor:"mileageFrom",children:"From"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",name:"mileageTo",id:"mileageTo"}),(0,s.jsx)("label",{htmlFor:"mileageTo",children:"To"})]})]})]}),(0,s.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),n(c.target.value)}(e)},children:"Search"})]})},u=i(579),h=function(e){var n=e.onClick;return(0,s.jsx)("button",{type:"button",onClick:n,children:"Load more"})},x=function(){var e=(0,l.useState)(1),n=(0,t.Z)(e,2),i=n[0],o=n[1],d=(0,l.useState)([]),x=(0,t.Z)(d,2),j=x[0],m=x[1],p=(0,l.useState)([]),f=(0,t.Z)(p,2),v=f[0],g=f[1],y=(0,l.useState)(!0),b=(0,t.Z)(y,2),C=b[0],k=b[1],w=(0,l.useState)("without"),S=(0,t.Z)(w,2),Z=S[0],M=S[1],E=(0,c.JB)({page:i,limit:8}).data,F=void 0===E?[]:E,B=(0,c.NJ)({page:i,limit:8,brand:Z}).data,L=void 0===B?[]:B;(0,l.useEffect)((function(){if(L&&L.length>0)return g((0,r.Z)(L)),void m([])}),[L,C]),(0,l.useEffect)((function(){if(C)return k(!1);F&&F.length>0&&m((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(F))}))}),[F,C]),(0,l.useEffect)((function(){var e=document.querySelector("ul").lastElementChild;if(j.length>8){var n=e.getBoundingClientRect().height;window.scrollBy({top:1*n,behavior:"smooth"})}}),[j]);var T=0===v.length?j:v,N=F.length>7&&j.length>7;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"visually-hidden",children:"Catalog"}),(0,s.jsx)(a,{onSubmit:function(e){if("without"===e)return g([]),void m((0,r.Z)(F));o(1),m([]),M(e)}}),(0,s.jsx)(u.Z,{data:T}),N&&(0,s.jsx)(h,{onClick:function(){o((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=614.227e8faa.chunk.js.map