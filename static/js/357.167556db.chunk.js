"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[357],{557:function(e,n,i){i.d(n,{Z:function(){return S}});var t=i(413),r=i(439),l=i(791),s=i(909),a=i(689),c=i(164),o=i(184),d=document.querySelector("#modal-root"),u=function(e){var n=e.closeModal,i=e.children;(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,c.createPortal)((0,o.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&n()},children:(0,o.jsx)("div",{children:i})}),d)},h=i(185),m=function(e){var n=e.el,i=e.city,t=e.country,r=e.addComma,l=e.closeModal,s=n.rentalConditions.split("\n");return(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{type:"button",onClick:l,"aria-label":"Close modal window",children:(0,o.jsx)(h.C7Q,{})}),(0,o.jsx)("img",{src:n.img,alt:"".concat(n.make," ").concat(n.model,", ").concat(n.year)}),(0,o.jsxs)("h3",{children:[n.make," ",(0,o.jsx)("span",{children:n.model}),", ",n.year]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("p",{children:i})}),(0,o.jsx)("li",{children:(0,o.jsx)("p",{children:t})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["id: ",n.id]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Year: ",n.year]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Type: ",n.type]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Fuel Consumption: ",n.fuelConsumption]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Engine Size: ",n.engineSize]})})]}),(0,o.jsx)("p",{children:n.description}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"Accessories and functionalities:"}),(0,o.jsxs)("ul",{children:[n.functionalities.map((function(e,n){return(0,o.jsx)("li",{children:e},n)})),n.accessories.map((function(e,n){return(0,o.jsx)("li",{children:e},n)}))]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"Rental Conditions: "}),(0,o.jsxs)("ul",{children:[s.map((function(e,n){var i=function(e){var n=e.split("\n")[0].slice(-2),i=parseInt(n);return!Number.isNaN(i)&&i}(e);return(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:[e.replace("".concat(i),""),i&&(0,o.jsx)("span",{children:i})]})},n)})),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Milage: ",(0,o.jsx)("span",{children:r(n.mileage)})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)("p",{children:["Price: ",(0,o.jsx)("span",{children:n.rentalPrice})]})})]})]})]}),(0,o.jsx)("button",{href:"tel:+380730000000",rel:"noopener",children:"Rental car"})]})},x="Catalogitem_carItem__fW6QO",j="Catalogitem_carItemBtn__Q6MCJ",p="Catalogitem_carItemIcon__D-4FL",f="Catalogitem_imgCarItemContainer__pH6HO",v="Catalogitem_imgCarItem__Ufg0N",g="Catalogitem_carInfoContainer__o1ytk",_="Catalogitem_carInfoTitle__dkW6v",C="Catalogitem_carInfoSpan__XNP4b",y="Catalogitem_carPrice__krBcR",b="Catalogitem_carList__yseKQ",N="Catalogitem_carListItem__MBF00",k="Catalogitem_carBtnLearnMore__CjDDM",w=function(e){var n=e.car,i=(0,l.useState)(!1),c=(0,r.Z)(i,2),d=c[0],w=c[1],M=(0,s.X_)().data,S=void 0===M?[]:M,Z=(0,s.x4)(),L=(0,r.Z)(Z,1)[0],B=(0,s.bu)(),F=(0,r.Z)(B,1)[0],I=(0,a.TH)(),E=S.find((function(e){return e._id===n.id})),T="/favorites"===I.pathname;(0,l.useEffect)((function(){return document.body.style.overflow=d?"hidden":"auto",function(){document.body.style.overflow="auto"}}),[d]);var P=function(){w(!1)},H=function(e){return e.toLocaleString("en-US")},R=n.address.split(","),A=R[1],Q=R[2],z=E||T;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("li",{className:x,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:f,children:(0,o.jsx)("img",{className:v,src:n.img,alt:"".concat(n.make," ").concat(n.model)})}),(0,o.jsx)("button",{type:"button",onClick:function(){return e=n,void(T?F(e.id):E?F(E.id):E||L((0,t.Z)((0,t.Z)({},e),{},{_id:e.id})));var e},style:{fill:z&&"#3470ff"},className:j,children:(0,o.jsx)(h.ytW,{className:p})}),(0,o.jsxs)("div",{className:g,children:[(0,o.jsxs)("h2",{className:_,children:[n.make," ",(0,o.jsx)("span",{className:C,children:n.model}),", ",n.year]}),(0,o.jsx)("p",{className:y,children:n.rentalPrice})]}),(0,o.jsxs)("ul",{className:b,children:[(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:A})}),(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:Q})}),(0,o.jsx)("li",{className:N,children:(0,o.jsxs)("p",{children:[" ",n.rentalCompany]})}),(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:n.type})}),(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:n.make})}),(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:H(n.mileage)})}),(0,o.jsx)("li",{className:N,children:(0,o.jsx)("p",{children:n.accessories[2]})})]})]}),(0,o.jsx)("button",{type:"button",onClick:function(){w(!0)},className:k,children:"Learn more"})]}),d&&(0,o.jsx)(u,{closeModal:P,children:(0,o.jsx)(m,{el:n,city:A,country:Q,closeModal:P,addComma:H})})]})},M="CatalogList_catalogList__rQuHA",S=function(e){var n=e.data;return(0,o.jsx)("ul",{className:M,children:n&&n.map((function(e){return(0,o.jsx)(w,{car:e},e.id)}))})}},357:function(e,n,i){i.r(n),i.d(n,{default:function(){return x}});var t=i(433),r=i(439),l=i(791),s=i(909),a=i(184),c=[10,20,30,40,50,60,70,80,90,100,200,300,400,500,600],o=["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land Rover"],d=function(e){var n=e.onSubmit,i=(0,l.useState)(),t=(0,r.Z)(i,2),s=t[0],d=t[1];return(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"car-select",children:"Car brand"}),(0,a.jsxs)("select",{name:"cars",id:"car-select",onChange:d,children:[(0,a.jsx)("option",{value:"without",children:"All cars"}),o.map((function(e,n){return(0,a.jsx)("option",{value:e,children:e},n)}))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"price-select",children:"Price/ 1 hour"}),(0,a.jsxs)("select",{name:"price",id:"price-select",children:[(0,a.jsx)("option",{value:"without",children:"To $"}),c.map((function(e,n){return(0,a.jsx)("option",{value:e,children:e},n)}))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Car mileage / km"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"mileageFrom",id:"mileageFrom"}),(0,a.jsx)("label",{htmlFor:"mileageFrom",children:"From"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"mileageTo",id:"mileageTo"}),(0,a.jsx)("label",{htmlFor:"mileageTo",children:"To"})]})]})]}),(0,a.jsx)("button",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),n(s.target.value)}(e)},children:"Search"})]})},u=i(557),h="BtnLoadMore_btnLoadMore__O0y5v",m=function(e){var n=e.onClick;return(0,a.jsx)("button",{className:h,type:"button",onClick:n,children:"Load more"})},x=function(){var e=(0,l.useState)(1),n=(0,r.Z)(e,2),i=n[0],c=n[1],o=(0,l.useState)([]),h=(0,r.Z)(o,2),x=h[0],j=h[1],p=(0,l.useState)([]),f=(0,r.Z)(p,2),v=f[0],g=f[1],_=(0,l.useState)(!0),C=(0,r.Z)(_,2),y=C[0],b=C[1],N=(0,l.useState)("without"),k=(0,r.Z)(N,2),w=k[0],M=k[1],S=(0,s.JB)({page:i,limit:8}).data,Z=void 0===S?[]:S,L=(0,s.NJ)({page:i,limit:8,brand:w}).data,B=void 0===L?[]:L;(0,l.useEffect)((function(){if(B&&B.length>0)return g((0,t.Z)(B)),void j([])}),[B,y]),(0,l.useEffect)((function(){if(y)return b(!1);Z&&Z.length>0&&j((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(Z))}))}),[Z,y]),(0,l.useEffect)((function(){var e=document.querySelector("ul").lastElementChild;if(x.length>8){var n=e.getBoundingClientRect().height;window.scrollBy({top:1*n,behavior:"smooth"})}}),[x]);var F=0===v.length?x:v,I=Z.length>7&&x.length>7;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"visually-hidden",children:"Catalog"}),(0,a.jsx)(d,{onSubmit:function(e){if("without"===e)return g([]),void j((0,t.Z)(Z));c(1),j([]),M(e)}}),(0,a.jsx)(u.Z,{data:F}),I&&(0,a.jsx)(m,{onClick:function(){c((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=357.167556db.chunk.js.map